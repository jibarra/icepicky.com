<!doctype html><html lang=en-US><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Jose Ibarra &#183; TIL: Git Force With Lease</title>
<meta name=description content="I'm a staff software engineer at Bonusly and MCS and BS Computer Science graduate from Arizona State University. I previously worked at Gusto, General Motors, and Sandia National Labs."><meta property="og:description" content="I'm a staff software engineer at Bonusly and MCS and BS Computer Science graduate from Arizona State University. I previously worked at Gusto, General Motors, and Sandia National Labs."><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=referrer content="always"><meta name=googlebot content="index,follow,snippet,archive"><link rel=stylesheet href=//www.icepicky.com/hugo-theme-console/css/terminal-0.7.4.min.css><link rel=stylesheet href=//www.icepicky.com/hugo-theme-console/css/console.css><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><meta property="og:title" content="TIL: Git Force With Lease"><meta property="og:description" content="I'm a staff software engineer at Bonusly and MCS and BS Computer Science graduate from Arizona State University. I previously worked at Gusto, General Motors, and Sandia National Labs."><meta property="og:type" content="article"><meta property="og:url" content="//www.icepicky.com/blog/til-git-force-with-lease/"><meta property="article:published_time" content="2023-11-08T15:44:43-07:00"><meta name=twitter:title content="TIL: Git Force With Lease"><meta name=twitter:description content="Today I learned about the Git --force-with-lease command. 
I&rsquo;ll restate a description of the command but it allows you to rebase and force push with less risks than using --force. If you had pushed your changes up to a remote branch and somebody else had pushed up new changes to that remote branch while you&rsquo;re rebasing. After you finish rebasing, a normal git push will fail because the local refs don&rsquo;t match the remote ones. Usually people will git push --force at this point because they were just rebasing their branch. However, this would wipe away commits on the remote branch. This is easy to do if you&rsquo;re working on a branch and don&rsquo;t realize that somebody else had commit to it."></head><body class=terminal><div class=container><div class=terminal-nav><header class=terminal-logo><div class="logo terminal-prompt"><a href=//www.icepicky.com/ class=no-style>Jose Ibarra
</a>:~#
<a href=//www.icepicky.com/blog class=terminal-path>blog</a>
/
<a href=//www.icepicky.com/blog/til-git-force-with-lease class=terminal-path>til-git-force-with-lease</a>
/</div></header><nav class=terminal-menu><ul vocab="https://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" href=//www.icepicky.com/resume/><span property="name">resume/</span></a>
<meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" href=//www.icepicky.com/projects/><span property="name">projects/</span></a>
<meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" href=//www.icepicky.com/blog/><span property="name">blog/</span></a>
<meta property="position" content="3"></li></ul></nav></div></div><div class=container><h1>TIL: Git Force With Lease</h1><p>Today I learned about <a href=https://git-scm.com/docs/git-push#Documentation/git-push.txt---force-with-leaseltrefnamegt target=_blank rel=noopener>the Git <code>--force-with-lease</code> command.</a></p><p>I&rsquo;ll restate a description of the command but it allows you to rebase and force push with less risks than using <code>--force</code>. If you had pushed your changes up to a remote branch and somebody else had pushed up new changes to that remote branch while you&rsquo;re rebasing. After you finish rebasing, a normal <code>git push</code> will fail because the local refs don&rsquo;t match the remote ones. Usually people will <code>git push --force</code> at this point because they were just rebasing their branch. However, this would wipe away commits on the remote branch. This is easy to do if you&rsquo;re working on a branch and don&rsquo;t realize that somebody else had commit to it.</p><p>Instead, you can use <code>git push --force-with-lease</code> to ensure that you can&rsquo;t force a push if more commits were added to the remote branch than there are locally. This helps ensure that new commits in the remote branch aren&rsquo;t blindly overwritten. It&rsquo;s incredibly useful if you&rsquo;re working on a branch as a group or if your branch is generally public.</p><p>I rarely rebase nowadays after I consider my remote branches public. When other folks are collaborating, it makes it harder after rebasing because everyone&rsquo;s locals need to be fixed up after a rebase and force push. When I&rsquo;ve requested a review, it makes re-reviewing harder because Github loses history of what was viewed previously. However, occasionally I like to rebase to cleanup a branch with a messy commit history so knowing about <code>--force-with-lease</code> ensures I can rebase more safely.</p><p>After learning about the command, I&rsquo;ve created some <a href=https://github.com/jibarra/.dotfiles/blob/10aca3551c6084c5a355aab5a460bad05e447165/git/.gitconfig#L35-L36 target=_blank rel=noopener>aliases in my dotfiles</a> to shorten the command for me when I need it. It&rsquo;ll help me use it when I need it so I don&rsquo;t have to type out all of <code>--force-with-lease</code> every time I rebase.</p><div class=footer>2018-2025 Jose Ibarra</div></div></body></html>